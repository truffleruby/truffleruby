{
  "comment": [
    "JFR-related classes are registered to enable streaming JFR events with host interop, see spec/truffle/interop/jfr_spec.rb.",
    "Context-related classes are registered to enable embedding TruffleRuby via JNI.",
    "Resources are registered to be able to load the core library when creating multiple Ruby contexts."
  ],
  "reflection": [
    {
      "type": "jdk.jfr.consumer.RecordingStream",
      "allPublicConstructors": true,
      "allPublicMethods": true
    },
    {
      "type": "jdk.jfr.consumer.RecordedEvent",
      "allPublicMethods": true
    },
    {
      "type": "jdk.jfr.consumer.RecordedThread",
      "allPublicMethods": true
    },
    {
      "type": "jdk.jfr.EventType",
      "allPublicMethods": true
    },
    {
      "type": { "proxy": ["java.util.function.Consumer"] }
    },
    {
      "type": "org.graalvm.polyglot.Context",
      "jniAccessible": true,
      "allPublicConstructors": true,
      "allPublicMethods": true
    },
    {
      "type": "org.graalvm.polyglot.Context$Builder",
      "jniAccessible": true,
      "allPublicConstructors": true,
      "allPublicMethods": true
    },
    {
      "type": "org.graalvm.polyglot.Value",
      "jniAccessible": true,
      "allPublicConstructors": true,
      "allPublicMethods": true
    },
    {
      "type": "org.graalvm.polyglot.Source",
      "jniAccessible": true,
      "allPublicConstructors": true,
      "allPublicMethods": true
    },
    {
      "type": "java.nio.file.Path",
      "jniAccessible": true,
      "methods": [
        { "name": "of", "parameterTypes": ["java.lang.String", "[Ljava.lang.String;"] }
      ]
    },
    { "type": "java.nio.file.WatchEvent$Modifier" }
  ],
  "resources": [
    {
      "module": "dev.truffleruby.runtime",
      "glob": "truffleruby/core/**/*.rb"
    },
    {
      "glob": "truffleruby/core/**/*.rb"
    },
    {
      "module": "dev.truffleruby.runtime",
      "glob": "truffleruby/post-boot/**/*.rb"
    },
    {
      "glob": "truffleruby/post-boot/**/*.rb"
    }
  ]
}
